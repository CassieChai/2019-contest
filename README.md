# 推箱子变形版——推蛋糕

## 开始画面

- index.html文件
- 选择难度：简单、中等、超难
- 点击开始游戏按钮开始

## 游戏画面

- game.html文件
- 通过键盘的上下左右键控制小鸭子推蛋糕，全部推到盘子里过关，自动进入下一关。
- 如果在游戏过程中不能再推蛋糕到指定位置，则游戏判定失败，重新开始此关。
- 页面上显示当前的关数，和此关移动的步数。

## 实现思路

### 整体思路
- 可以把屏幕中央的方格抽象成一个坐标系，左上角向右为x轴正方向，向下为y轴正方向。
- 通过坐标控制地图的渲染、角色的移动和箱子的移动。
### 地图
- 每一关的关卡初始化写在mapdata100.js，包括关卡编号、地图围墙、角色初始位置、箱子初始位置和箱子的目的地。
- 用canvas把这些位置的相应图标渲染出来，帧动画刷新这些位置。
### 角色行为
- 帧刷新触发key()方法，如果有键盘上下左右的响应，则修改角色坐标，替换相应图标以达到角色移动的目的。
- 每一次角色移动都会判断下一步的位置，如果是墙，则终止行为，如果是箱子，则跟随角色一起移动。
### 胜利
- 每一次角色行为结束就判断箱子位置与终点位置是否相同，若完全相同则游戏胜利。
```
public
├── index.html  # 入口网页
├── game.html  # 游戏网页
├── img  # 地图各部分的图标
|   ├── box.png # 箱子图标
│   ├── block.png  # 地板图标
│   ├── wall.png  # 墙壁图标
│   ├── cake.png  # 蛋糕图标
│   ├── duck.png  # 小鸭子图标
│   ├── plate.png  # 盘子图标
│   └── background.jpg  # 背景图片
├── JS  # js文件
|   ├── begin.js # 对应入口网页的js文件
│   ├── boxGame.js  # 对应游戏网页的js文件
│   └── mapdata100.js  # 每一关的初始化坐标
└── css  # 样式表
    ├── index.js  # 对应入口网页的css文件
    └── style.js  # 对应游戏网页的css文件
```
